<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-Type" content="text/html; CHARSET=utf-8" />
		<meta name="description" content="">
		<meta name="author" content="Francisco Caravana [fcaravana@gmail.com]">


		<title>Encrypt - Decrypt</title>

		<link rel="stylesheet" href="css/style.css">

		<script src="js/jquery/jquery-1.10.2.min.js"></script>
		
		<script src="js/rsa/jsbn.min.js"></script>
		<script src="js/rsa/rsa.min.js"></script>
		
		<script type="text/javascript">
		
			$( document ).ready(function() {
			
				var rsaPublicKey = "-----BEGIN PUBLIC KEY-----MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALphmWV0fY4KNQLNqNLVxImey3b11PNzr4x+EhsNSfDNVxBxfQ1EF3X6Q+Eki8zEEdL6noukArV7gVW2sncv5UUCAwEAAQ==-----END PUBLIC KEY-----";
				
				$( "#form" ).submit(function() 
				{
					$("input[name='first_name_encrypt']").val(RSA.encrypt($("input[name='first_name']").val(), RSA.getPublicKey(rsaPublicKey)));
					$("input[name='last_name_encrypt']").val(RSA.encrypt($("input[name='last_name']").val(), RSA.getPublicKey(rsaPublicKey)));
					
					url = 'phpDecryptString.php';
					
					$('#form').attr('action', url);
				});
				
			});
			
		</script>
		
	</head>

		<form id="form" action="javascript: void(0);" method="post">
		
			Encrypt first and last name with javascript and decrypt with php:<br /><br />
			
			First name: <input type="text" name="first_name" value="" /><br />
			Last name: <input type="text" name="last_name" value="" /><br /><br />
			
			<input type="hidden" name="first_name_encrypt" />
			<input type="hidden" name="last_name_encrypt" />
			
			<input type="submit" value="Submit" />
		</form>
		
	<body>
</html>